function getPeopleAutocomplete(){"use strict";var a=jQuery("#searchfield");a.autocomplete({source:function(a,b){jQuery.ajax({url:"https://search.epfl.ch/json/autocompletename.action",dataType:"jsonp",data:{maxRows:15,term:a.term},success:function(a){b(jQuery.map(a.result,function(a){return{label:a.name+", "+a.firstname,value:a.firstname+" "+a.name}}))}})},appendTo:jQuery("#searchform"),disabled:!1,minLength:3,select:function(b,c){c.item&&a.val(c.item.value),jQuery("#searchform").submit()}})}function showPanel(){jQuery("#header").expose({color:"#000",opacity:.6,loadSpeed:0,closeSpeed:0}),jQuery(".navigation-panel").addClass("hidden"),jQuery(this).children(".navigation-panel").removeClass("hidden")}function hidePanel(){}function removeLastWord(a){var b=a.html(),c=b.lastIndexOf(" ");return a.html(b.substring(0,c)+"..."),-1!==c}function isTotallyVisible(a,b){return b.position().top+b.outerHeight()+2<a.position().top+a.innerHeight()}function change_search_base(a){jQuery("#search-options").remove(),jQuery("#searchform input[type=radio]").removeAttr("checked");var b=a.attr("id"),c=jQuery("label[for="+b+"]");switch(jQuery("#searchfield").autocomplete({disabled:!0}),b){case"search-engine-person":getPeopleAutocomplete();break;case"search-engine-local":jQuery("#searchform").append(jQuery("<input/>").attr("type","hidden").attr("id","search-options").attr("name","as_sitesearch").attr("value",jQuery.url.attr("host")))}jQuery("#searchfield").val()===jQuery("#searchform label.current").attr("title")&&jQuery("#searchfield").val(""),""===jQuery("#searchfield").val()&&jQuery("#searchfield").val(c.attr("title")),current_search_base.toggleClass("current"),current_search_base=c,current_search_base.toggleClass("current"),a.attr("checked","checked"),a.blur(),-1!==document.referrer.indexOf("#")&&a.focus()}!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src="//www.google-analytics.com/analytics.js",g.parentNode.insertBefore(f,g)}(window,document,"script",0,"ga"),ga("create","UA-4833294-1","auto","web2010"),ga("web2010.set","anonymizeIp",!0),ga("web2010.send","pageview");var current_search_base=null;jQuery.fn.exists=function(){return this.length>0},jQuery(document).ready(function(a){"use strict";var b=function(b){a(".navigation-panel").addClass("hidden"),a(b).removeClass("hidden"),a("#header2013").expose({color:"#000",opacity:.6,loadSpeed:0,closeSpeed:0})},c=function(){0!==a(".navigation-panel:not(.hidden)").length&&(a(".navigation-panel").addClass("hidden"),a.mask.close())};if(a("#header").exists()){a("#header").mouseleave(function(){a.mask.close(),a(".navigation-panel").addClass("hidden")});var d={over:showPanel,out:hidePanel,timeout:500};a("#header .menu").hoverIntent(d),a("#header .main-link").click(function(){return!1}),a("#header").mouseleave(c),a("#searchform").submit(function(){a("#searchfield").val()===a("#searchform label.current").attr("title")&&a("#searchfield").val("")}),current_search_base=a("#header #searchform label.current"),change_search_base(a("#header #search-engine-person")),a("#search-box input[type=radio]").change(function(){change_search_base(a(this))}),a("#searchfield").focus(function(){a(this).val()===current_search_base.attr("title")&&a(this).val("").addClass("focused")}),a.browser.msie&&a("#search-box input[type=radio]").click(function(){change_search_base(a(this)),this.blur(),this.focus()}),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))&&a("#search-box label").click(function(){var b=a(this).attr("for");change_search_base(a("#"+b))})}else{a("#header2013 #nav-menus .menu").click(function(){var d=a(".navigation-panel",this);return d.hasClass("hidden")?b(d):c(),!1}),a("#header2013 .navigation-panel").click(function(a){a.stopPropagation()}),a(document).keyup(function(a){27===a.keyCode&&c()}),a("html").click(c),a("#header2013 .selected-field").click(function(){a(this).siblings("ul").toggleClass("hidden")}),a("#header2013 .search-filter").mouseleave(function(){a(this).children("ul").addClass("hidden")}),a('#header2013  #nav-search input[type="radio"]').click(function(){a(this).parent().parent().addClass("hidden")});var e=function(){a("#header2013 #header_searchfield").autocomplete({source:function(b,c){a.ajax({url:"https://search.epfl.ch/json/autocompletename.action",dataType:"jsonp",data:{maxRows:10,term:b.term},success:function(b){var d=a.map(b.result,function(a){return{label:a.name+", "+a.firstname,value:a.firstname+" "+a.name}});if(c(d),b.hasMore){var e=b.lang&&"en"===b.lang?"See all results":"Voir tous les r√©sultats",f="https://search.epfl.ch/psearch.action?q="+b.term;a("#header2013 #search-box ul.ui-autocomplete li").last().after('<li><a class="ac-more" href="'+f+'">'+e+"</a></li>")}}})},appendTo:a("#header_searchform"),disabled:!1,minLength:3,select:function(b,c){c.item&&a(this).val(c.item.value),a("#header2013 #header_searchform").submit()}})},f=function(){a("#header2013 #header_searchfield").autocomplete({disabled:!0})};a('#header2013 input[type="radio"]').change(function(){var b=a("label[for="+a(this).attr("id")+"]");a("#search-box .selected-field").text(b.text()),a(this).is("#search-engine-person")?e():f()}),e(),a("#header2013 #search-engine-local").change(function(){a("#header_local_site").attr("value",jQuery.url.attr("host"))})}a("#searchfield").blur(function(){""===a(this).val()&&a(this).val(a("#searchform label.current").attr("title")).removeClass("focused")}),a("#searchfield").keypress(function(b){13===b.which&&a(this).parent("form").submit()}),a("#searchlink").click(function(){a("#searchfield").focus()}),a(".dropdown").click(function(){a(this).children("ul").toggleClass("hidden")}),a(".dropdown").mouseleave(function(){a(this).children("ul").addClass("hidden")}),a("#main-navigation .dropdown").hoverIntent(function(){a(this).children("ul").removeClass("hidden")},function(){a(this).children("ul").addClass("hidden")}),a("#main-navigation .dropdown").click(function(){return!0}),a(".tree li.inpath").addClass("open"),a(".tree").treeview({collapsed:!0,unique:!1}),a(".tree").children().addClass("local-color"),a(".tree li a").hover(function(b){b.stopPropagation(),a(".tree li").removeClass("hover"),a(this).parent().addClass("hover")},function(b){b.stopPropagation(),a(this).parent().removeClass("hover")}),a(".toggler").click(function(){return a(this).toggleClass("toggled-active").next().slideToggle("slow"),!1}),a(".modal-opener[rel]").overlay({mask:{color:"#000",opacity:.6,loadSpeed:200},closeOnClick:!1}),a(".box.two-cols div.box-col:even",this).addClass("box-left-col"),a(".box.two-cols div.box-col:odd",this).addClass("box-right-col"),a("#content:not(.fullpage-content) .box:odd",this).addClass("last-col"),a("img[align]").each(function(){a(this).addClass(a(this).attr("align"))}),a("img[rel]").overlay(),a("div.news-text").each(function(b,c){c=a(c);var d=c.find("p span.heading"),e=c.find("p span.read-more");if(d.length&&e.length)for(;!isTotallyVisible(c,e)&&removeLastWord(d););}),a("#main-content ul").each(function(){var b=a(this);0===b.children().length&&b.remove()})}),window.addEventListener("load",function(){var a={en:{msg:"By continuing your browsing on this site, you agree to the use of cookies to improve your user experience and to make statistics of visits.",link:"Read the legal notice",href:"//mediacom.epfl.ch/disclaimer"},fr:{msg:"En poursuivant votre navigation sur ce site, vous acceptez l'utilisation de cookies pour am&eacute;liorer votre exp&eacute;rience utilisateur et r&eacute;aliser des statistiques de visites.",link:"Lire les mentions l&eacute;gales",href:"//mediacom.epfl.ch/mentions-legales"}},b=document.documentElement.lang,c=b.substring(0,2);a[c]||(c="fr");var d="epfl.ch",e=window.location.hostname;if("localhost"===e||"127.0.0.1"===e)d=e;else{var f=e.split(".").reverse();void 0!==f[0]&&void 0!==f[1]&&(d=f[1]+"."+f[0])}window.cookieconsent.initialise({palette:{popup:{background:"rgba(69, 69, 69, 0.96)"},button:{background:"#e2001a"}},content:{message:a[c].msg,dismiss:"OK",link:a[c].link,href:a[c].href},cookie:{name:"petitpois",domain:d}})});